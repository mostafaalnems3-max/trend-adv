<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trend Adv | Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        :root { --cyan: #00d2ff; --dark: #0a0a0a; --card: #161616; --purple: #9d50bb; }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 30px; }
        header { text-align: center; padding: 25px; background: #000; border-bottom: 2px solid #222; }
        .logo span { background: linear-gradient(90deg, var(--cyan), var(--purple), var(--cyan)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 3rem; font-weight: 900; animation: shine 3s linear infinite; }
        @keyframes shine { to { background-position: 200% center; } }
        .social-sidebar { position: fixed; left: 10px; top: 50%; transform: translateY(-50%); z-index: 10000; display: flex; flex-direction: column; gap: 10px; }
        .social-sidebar a { width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; font-size: 18px; box-shadow: 0 4px 10px #000; transition: 0.3s; }
        .wa { background: #25D366; } .fb { background: #1877F2; } .li { background: #0077b5; }
        .intro-box { background: #111; margin: 15px; padding: 20px; border-radius: 15px; border-right: 5px solid var(--cyan); }
        .main-controls { display: flex; justify-content: center; gap: 10px; padding: 10px; flex-wrap: wrap; }
        .btn-action { background: var(--cyan); color: #000; border: none; padding: 14px 25px; border-radius: 50px; font-weight: bold; cursor: pointer; }
        .btn-agency { background: transparent; border: 1px solid var(--purple); color: var(--purple); }
        .admin-panel { background: #1a1a1a; margin: 15px; padding: 20px; border-radius: 15px; border: 1px dashed var(--cyan); display: none; }
        .admin-panel input { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #333; background: #222; color: white; box-sizing: border-box; }
        #map { height: 400px; width: 95%; margin: 20px auto; border-radius: 20px; border: 2px solid var(--cyan); display: none; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; padding: 15px; }
        .ad-card { background: var(--card); border-radius: 15px; overflow: hidden; border: 1px solid #222; }
        .ad-card img { width: 100%; height: 220px; object-fit: cover; }
        .card-body { padding: 15px; text-align: center; }
        .book-btn { width: 100%; background: var(--cyan); color: #000; border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<div class="social-sidebar">
    <a href="https://wa.me/201027676344" class="wa"><i class="fab fa-whatsapp"></i></a>
    <a href="https://www.facebook.com/share/1A8tTYNpdP/" class="fb"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.linkedin.com/in/mostafa-alnems-02b569330" class="li"><i class="fab fa-linkedin-in"></i></a>
</div>

<header><div class="logo"><span>T</span>rend Adv</div></header>

<section class="intro-box">
    <h2>Ù„ÙŠÙ‡ ØªØ®ØªØ§Ø± ØªØ±Ù†Ø¯ Ø§Ø¯ÙØŸ ğŸŒ</h2>
    <p>Ø¨ÙˆØ§Ø¨ØªÙƒ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø§Ù„ÙˆØ·Ù† Ø§Ù„Ø¹Ø±Ø¨ÙŠ. Ù†Ø±Ø¨Ø· Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª Ø¨Ø§Ù„Ù…Ø¹Ù„Ù†ÙŠÙ† Ø¹Ø¨Ø± ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù€ GPS Ù„Ø¶Ù…Ø§Ù† Ø£Ø¹Ù„Ù‰ Ø¯Ù‚Ø© ÙˆØµÙˆÙ„.</p>
</section>

<div class="main-controls">
    <button class="btn-action" onclick="showMap()">ğŸ“ Ø§Ø³ØªÙƒØ´Ù Ø§Ù„Ù„ÙˆØ­Ø§Øª Ø§Ù„Ù‚Ø±ÙŠØ¨Ø©</button>
    <button class="btn-action btn-agency" onclick="toggleAdmin()">ğŸ¢ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª (Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø©)</button>
</div>

<div class="admin-panel" id="adminPanel">
    <h3>Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø© Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</h3>
    <input type="text" id="siteName" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆÙƒØ§Ù„Ø© Ø£Ùˆ Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù„ÙˆØ­Ø©">
    <input type="text" id="siteImg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù„ÙˆØ­Ø© (Ù…Ø¨Ø§Ø´Ø±)">
    <input type="text" id="siteGeo" placeholder="Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª">
    <button class="book-btn" id="sendBtn" onclick="submitToSheet()">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div id="map"></div>
<div class="gallery" id="adsGallery">
    <p style="text-align:center; width:100%;">Ø¬Ø§Ø±ÙŠ Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ù„ÙˆØ­Ø§Øª...</p>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const GOOGLE_URL = "https://script.google.com/macros/s/AKfycbzzg0j1idvFOUjbfUspAS9u2tRVVYDMT8QMonF0XM3eg_-q06eul6MjJuRviacAe9r4/exec";

    // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ø§Ù„ØªÙŠ Ø£Ø±Ø³Ù„ØªÙ‡Ø§ (ØªØ³ØªØ®Ø¯Ù… ÙƒØ§Ø­ØªÙŠØ§Ø·ÙŠ Ø£Ùˆ Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ)
    const backupImages = [
        "https://i.ibb.co/qMJvnDNC/1000133864.png", "https://i.ibb.co/Kc8kwrtP/1000133863.png",
        "https://i.ibb.co/84L1KGxk/1000133862.png", "https://i.ibb.co/5g51xgQj/1000133861.png",
        "https://i.ibb.co/9HMpZwwq/1000133860.png", "https://i.ibb.co/fVtrRz2K/1000133859.png",
        "https://i.ibb.co/R4s051YR/1000133858.png", "https://i.ibb.co/4whPdcyk/1000133857.png"
    ];

    async function loadAds() {
        const gal = document.getElementById('adsGallery');
        try {
            const res = await fetch(GOOGLE_URL);
            const data = await res.json();
            
            if(data && data.length > 0) {
                gal.innerHTML = "";
                data.forEach(ad => {
                    renderCard(ad.title, ad.img, ad.coords);
                });
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙØ§Ø±ØºØ§Ù‹ØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙŠ Ø£Ø±Ø³Ù„ØªÙ‡Ø§ Ø£Ù†Øª
                loadBackupGallery();
            }
        } catch (e) { 
            loadBackupGallery();
        }
    }

    function loadBackupGallery() {
        const gal = document.getElementById('adsGallery');
        gal.innerHTML = "";
        backupImages.forEach((url, index) => {
            renderCard(`Ù…ÙˆÙ‚Ø¹ Ø¥Ø¹Ù„Ø§Ù†ÙŠ Ù…Ù…ÙŠØ² #${index + 1}`, url, "Ù…ÙˆÙ‚Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ");
        });
    }

    function renderCard(title, img, coords) {
        const gal = document.getElementById('adsGallery');
        gal.innerHTML += `
            <div class="ad-card">
                <img src="${img}" onerror="this.src='https://via.placeholder.com/400x250/111/00d2ff?text=Trend+Adv'">
                <div class="card-body">
                    <b style="color:var(--cyan)">${title}</b>
                    <p style="font-size:11px; color:#888;">${coords || ''}</p>
                    <button class="book-btn" style="margin-top:10px" onclick="window.open('https://wa.me/201027676344')">Ø§Ø­Ø¬Ø² Ø§Ù„Ø¢Ù†</button>
                </div>
            </div>`;
    }

    async function submitToSheet() {
        const btn = document.getElementById('sendBtn');
        const payload = {
            title: document.getElementById('siteName').value,
            img: document.getElementById('siteImg').value,
            coords: document.getElementById('siteGeo').value
        };
        if(!payload.title || !payload.img) return alert("Ø¨Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...";
        try {
            await fetch(GOOGLE_URL, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
            alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù„ÙˆØ­ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!");
            location.reload(); 
        } catch (e) { alert("Ø­Ø¯Ø« Ø®Ø·Ø£"); }
        btn.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„Ø¥Ø¶Ø§ÙØ©";
    }

    function toggleAdmin() {
        const p = document.getElementById('adminPanel');
        p.style.display = p.style.display === 'block' ? 'none' : 'block';
    }

    function showMap() {
        document.getElementById('map').style.display = 'block';
        var map = L.map('map').setView([30.04, 31.23], 11);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
    }

    window.onload = loadAds;
</script>
</body>
</html>
