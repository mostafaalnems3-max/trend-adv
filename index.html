<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trend Adv | Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <style>
        :root { --cyan: #00d2ff; --dark: #0a0a0a; --card: #161616; --purple: #9d50bb; --red: #ff0000; }
        body { background: var(--dark); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding-bottom: 50px; overflow-x: hidden; }

        /* Ø²Ø±Ø§ÙŠØ± Ø§Ù„Ø³ÙˆØ´ÙŠØ§Ù„ Ù…ÙŠØ¯ÙŠØ§ (ÙˆØ§ØªØ³Ø§Ø¨ØŒ ÙÙŠØ³ØŒ Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†) */
        .social-sidebar { position: fixed; left: 15px; top: 50%; transform: translateY(-50%); z-index: 10000; display: flex; flex-direction: column; gap: 15px; }
        .social-sidebar a { width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; text-decoration: none; font-size: 22px; box-shadow: 0 4px 15px rgba(0,0,0,0.8); transition: 0.4s; }
        .wa { background: #25D366; } .fb { background: #1877F2; } .li { background: #0077b5; }
        .social-sidebar a:hover { transform: scale(1.2) rotate(360deg); }

        /* Ø§Ù„Ù„ÙˆØ¬Ùˆ: Trend Adv Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØµØ­ÙŠØ­ */
        header { text-align: center; padding: 40px 10px; background: #000; border-bottom: 2px solid #222; position: relative; }
        .logo-box { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 10px; }
        .trend-text { 
            background: linear-gradient(90deg, var(--cyan), var(--purple), var(--cyan)); 
            background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; 
            font-size: 4.5rem; font-weight: 900; animation: moveGrad 3s linear infinite;
        }
        .adv-text { color: var(--red); font-size: 4.5rem; font-weight: 800; filter: drop-shadow(0 0 10px rgba(255,0,0,0.5)); }
        
        /* Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        .bio-text { font-size: 1.2rem; color: #aaa; margin-top: 5px; font-weight: 300; letter-spacing: 1px; }

        @keyframes moveGrad { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        .main-btns { display: flex; justify-content: center; gap: 20px; padding: 30px; }
        .btn { padding: 18px 40px; border-radius: 50px; font-weight: bold; cursor: pointer; border: none; font-size: 1.1rem; transition: 0.3s; }
        .btn-cyan { background: var(--cyan); color: #000; box-shadow: 0 0 15px var(--cyan); }
        .btn-red { background: transparent; border: 2px solid var(--red); color: var(--red); }
        .btn-red:hover { background: var(--red); color: #fff; box-shadow: 0 0 15px var(--red); }

        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
        .admin-panel { background: #111; margin: 20px auto; width: 85%; max-width: 550px; padding: 30px; border-radius: 20px; border: 1px solid var(--cyan); display: none; }
        .admin-panel input, .admin-panel select { width: 100%; padding: 15px; margin: 10px 0; border-radius: 12px; background: #000; border: 1px solid #333; color: #fff; }

        /* Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ± (Ø§Ù„ÙƒØ±ÙˆØª) */
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; padding: 30px; }
        .ad-card { background: var(--card); border-radius: 25px; overflow: hidden; border: 1px solid #222; position: relative; transition: 0.4s; }
        .ad-card:hover { transform: translateY(-10px); border-color: var(--cyan); }
        .ad-card img { width: 100%; height: 260px; object-fit: cover; }
        .card-body { padding: 25px; text-align: center; }
        .duration-tag { position: absolute; top: 15px; left: 15px; background: var(--red); color: white; padding: 6px 12px; border-radius: 8px; font-size: 0.8rem; font-weight: bold; }
        .book-now { width: 100%; padding: 15px; background: var(--cyan); border: none; border-radius: 12px; font-weight: bold; cursor: pointer; margin-top: 15px; font-size: 1rem; }
    </style>
</head>
<body>

<div class="social-sidebar">
    <a href="https://wa.me/201027676344" class="wa"><i class="fab fa-whatsapp"></i></a>
    <a href="https://www.facebook.com/share/1A8tTYNpdP/" class="fb"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.linkedin.com/in/mostafa-alnems-02b569330" class="li"><i class="fab fa-linkedin-in"></i></a>
</div>

<header>
    <div class="logo-box">
        <span class="trend-text">Trend</span>
        <span class="adv-text">Adv</span>
    </div>
    <div class="bio-text">Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ù„Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª ÙÙŠ Ù…ØµØ± ÙˆØ§Ù„ÙˆØ·Ù† Ø§Ù„Ø¹Ø±Ø¨ÙŠ</div>
</header>

<div class="main-btns">
    <button class="btn btn-cyan" onclick="toggleMap()">ğŸ“ Ø¹Ø±Ø¶ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</button>
    <button class="btn btn-red" onclick="toggleAdmin()">ğŸ¢ Ø³Ø¬Ù„ Ù„ÙˆØ­ØªÙƒ Ù…Ø¬Ø§Ù†Ø§Ù‹</button>
</div>

<div class="admin-panel" id="adminPanel">
    <h3 style="color:var(--cyan)">Ø¥Ø¶Ø§ÙØ© Ù„ÙˆØ­Ø© Ø¥Ø¹Ù„Ø§Ù†ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©</h3>
    <input type="text" id="nameB" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆÙƒØ§Ù„Ø©">
    <input type="text" id="imgC" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±">
    <input type="text" id="gpsD" placeholder="Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ (GPS)">
    <select id="durE">
        <option value="3 Ø´Ù‡ÙˆØ± Ù…Ø¬Ø§Ù†Ø§Ù‹">3 Ø´Ù‡ÙˆØ± Ù…Ø¬Ø§Ù†Ø§Ù‹ (Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„ÙŠ)</option>
        <option value="6 Ø´Ù‡ÙˆØ±">6 Ø´Ù‡ÙˆØ±</option>
    </select>
    <input type="text" id="noteF" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø© Ø¥Ø¶Ø§ÙÙŠØ©">
    <button class="book-now" id="saveBtn" onclick="submitData()">ØªØ£ÙƒÙŠØ¯ ÙˆØ¥Ø¶Ø§ÙØ© Ù„Ù„Ø¬Ø¯ÙˆÙ„</button>
</div>

<div id="map" style="height: 400px; width: 90%; margin: 20px auto; border-radius: 20px; display: none; border: 2px solid var(--cyan);"></div>

<div class="gallery" id="adsGrid"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
    const SHEET_API = "https://script.google.com/macros/s/AKfycbxhoTguhGJBLhE04m9_RF6WlUKvQg7zW6yLhE5tOHSPqfhlv6-O4PT3qyH5Ci0K6EsW/exec";

    async function fetchAds() {
        const grid = document.getElementById('adsGrid');
        try {
            const res = await fetch(SHEET_API);
            const data = await res.json();
            grid.innerHTML = "";
            data.forEach(ad => {
                grid.innerHTML += `
                    <div class="ad-card">
                        <div class="duration-tag">${ad.duration}</div>
                        <img src="${ad.img}" onerror="this.src='https://via.placeholder.com/400x250/111/00d2ff?text=Trend+Adv'">
                        <div class="card-body">
                            <b style="color:var(--cyan); font-size:1.3rem;">${ad.title}</b>
                            <p style="color:#777; font-size:12px; margin: 10px 0;">${ad.coords}</p>
                            <p style="color:var(--red); font-size:11px;">${ad.adminNote || ''}</p>
                            <button class="book-now" onclick="window.open('https://wa.me/201027676344')">Ø§Ø­Ø¬Ø² Ù‡Ø°Ù‡ Ø§Ù„Ù„ÙˆØ­Ø©</button>
                        </div>
                    </div>`;
            });
        } catch (e) { console.log("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); }
    }

    async function submitData() {
        const btn = document.getElementById('saveBtn');
        const payload = {
            title: document.getElementById('nameB').value,
            img: document.getElementById('imgC').value,
            coords: document.getElementById('gpsD').value,
            duration: document.getElementById('durE').value,
            adminNote: document.getElementById('noteF').value
        };
        if(!payload.title || !payload.img) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø©");
        btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ø§Ù„Ø´ÙŠØª...";
        await fetch(SHEET_API, { method: 'POST', mode: 'no-cors', body: JSON.stringify(payload) });
        alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¬Ø§Ø­!");
        location.reload();
    }

    function toggleAdmin() { const p = document.getElementById('adminPanel'); p.style.display = p.style.display === 'block' ? 'none' : 'block'; }
    function toggleMap() { 
        const m = document.getElementById('map'); 
        m.style.display = m.style.display === 'block' ? 'none' : 'block';
        if(m.style.display === 'block') {
            var map = L.map('map').setView([30.04, 31.23], 11);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        }
    }
    window.onload = fetchAds;
</script>
</body>
</html>
