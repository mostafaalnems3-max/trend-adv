<!DOCTYPE html>
<html lang="ar" dir="rtl" id="app-root">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TREND ADV | Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root { --main: #004e92; --gold: #ffcc00; --dark: #000b18; --white: #ffffff; }
        body { font-family: 'Cairo', sans-serif; background: #f0f4f8; margin: 0; padding-bottom: 90px; overflow-x: hidden; }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ */
        .premium-header {
            background: linear-gradient(180deg, var(--dark) 0%, var(--main) 100%);
            padding: 30px 20px 50px; border-radius: 0 0 45px 45px;
            text-align: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Ø§Ù„Ù„ÙˆØ¬Ùˆ Ø§Ù„Ù…ØªØ­Ø±Ùƒ */
        .brand-master-wrapper { display: flex; align-items: center; justify-content: center; gap: 0; direction: ltr !important; margin-bottom: 25px; }
        .yellow-square { background: #ffcc00 !important; width: 55px; height: 55px; border-radius: 12px; display: flex; align-items: center; justify-content: center; z-index: 5; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .dynamic-t { font-size: 38px; font-weight: 900; animation: t-color-cycle 4s linear infinite; }
        @keyframes t-color-cycle { 0% { color: #ff0000; } 25% { color: #00ff00; } 50% { color: #00ffff; } 75% { color: #0000ff; } 100% { color: #ff0000; } }
        
        .name-capsule { background: #0d1117; padding: 10px 30px 10px 45px; margin-left: -25px; border-radius: 0 50px 50px 0; border: 1px solid rgba(255, 204, 0, 0.3); display: flex; align-items: center; }
        .brand-text-white { color: #ffffff !important; font-size: 26px; font-weight: 900; letter-spacing: 2px; text-transform: uppercase; }
        .adv-gold { color: #ffcc00 !important; margin-left: 8px; }
        .global-slogan { display: inline-block; background: #ffcc00; color: #000b18; padding: 8px 25px; border-radius: 50px; font-size: 11px; font-weight: 800; box-shadow: 0 5px 15px rgba(255, 204, 0, 0.2); }

        /* Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ */
        .rep-card { background: #111; padding: 25px; border-radius: 30px; border: 2px dashed var(--gold); margin: 20px 15px; text-align: center; color: white; }
        .btn-verify { width: 100%; padding: 15px; background: var(--gold); border: none; border-radius: 15px; font-weight: 900; cursor: pointer; font-size: 16px; margin-top: 15px; color: #000; transition: 0.3s; }
        .btn-verify:active { transform: scale(0.95); }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù„ØºØ§Øª */
        .lang-pill { background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 6px 15px; border-radius: 20px; font-size: 11px; cursor: pointer; margin: 0 4px; display: inline-block; }
        .lang-pill.active { background: var(--gold); color: var(--dark); border-color: var(--gold); font-weight: bold; }
    </style>
</head>
<body>

    <div class="premium-header">
        <div style="margin-bottom: 20px;">
            <span class="lang-pill active">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
            <span class="lang-pill">English</span>
        </div>

        <div class="brand-master-wrapper">
            <div class="yellow-square"><span class="dynamic-t">T</span></div>
            <div class="name-capsule"><span class="brand-text-white">REND <span class="adv-gold">ADV</span></span></div>
        </div>
        <div class="global-slogan">Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ù„Ø±Ø¨Ø· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¨Ø§Ù„Ù€ GPS ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
    </div>

    <div class="rep-card">
        <h4 style="color: #00ff00; margin-top: 0;"><i class="fas fa-shield-alt"></i> Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ</h4>
        <p style="font-size: 12px; color: #ccc;">Ø³ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…ÙˆÙ‚Ø¹Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙˆÙ…Ù‚Ø§Ø±Ù†ØªÙ‡ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø§Ø´ Ø¨ÙˆØ±Ø¯</p>
        
        <button onclick="repVerification()" class="btn-verify">ğŸ“ Ù†Ø´Ø± Ø§Ù„Ù„ÙˆØ­Ø© (ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù…ÙˆÙ‚Ø¹)</button>
        
        <div style="margin-top: 25px;">
            <a href="about.html" onclick="logAIEvents('Navigate_About', 'Dashboard_Footer')" style="color: var(--gold); text-decoration: none; font-weight: bold; font-size: 14px; border-bottom: 1px solid var(--gold); padding-bottom: 2px;">
                ğŸ“‘ Ù…Ù† Ù†Ø­Ù† (Ø¹Ù† Ù…Ù†ØµØ© TREND AI) â†
            </a>
        </div>
    </div>

    <script>
        // 1. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ Ø§Ù„Ø¯Ø§Ø´ Ø¨ÙˆØ±Ø¯ (ØªØ¹Ø¯Ù„ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
        const dashboardConfig = {
            targetLat: 30.0444, 
            targetLon: 31.2357,
            allowedRadius: 150, // Ø§Ù„Ù†Ø·Ø§Ù‚ Ø¨Ø§Ù„Ù…ØªØ±
            billboardId: "TREND-DB-001"
        };

        // 2. Ù…Ø­Ø±Ùƒ Ø§Ù„Ø£Ù†Ù„ÙŠØªÙƒØ³
        function logAIEvents(action, label) {
            console.log(`ğŸ“Š [Analytics] ${action}: ${label}`);
            // Ù‡Ù†Ø§ ÙŠÙˆØ¶Ø¹ ÙƒÙˆØ¯ gtag Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙØ¹Ù„Ø§Ù‹
        }

        // 3. Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ù€ GPS
        function repVerification() {
            logAIEvents('Verify_Attempt', dashboardConfig.billboardId);

            if (!navigator.geolocation) {
                return alert("Ø§Ù„Ù€ GPS ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ… ÙÙŠ Ù…ØªØµÙØ­Ùƒ.");
            }

            navigator.geolocation.getCurrentPosition(pos => {
                const uLat = pos.coords.latitude;
                const uLon = pos.coords.longitude;
                
                const distance = calculateDistance(uLat, uLon, dashboardConfig.targetLat, dashboardConfig.targetLon);

                if (distance <= dashboardConfig.allowedRadius) {
                    logAIEvents('Verify_Success', dashboardConfig.billboardId);
                    alert(`âœ… ØªÙ… Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­!\nØ§Ù„Ù„ÙˆØ­Ø©: ${dashboardConfig.billboardId}\nØ§Ù„Ù…Ø³Ø§ÙØ©: ${distance.toFixed(1)} Ù…ØªØ±.`);
                    // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­ Ù„Ù„Ø¯Ø§Ø´ Ø¨ÙˆØ±Ø¯ ÙØ¹Ù„ÙŠØ§Ù‹
                } else {
                    logAIEvents('Verify_Failed', `Distance: ${distance.toFixed(1)}m`);
                    alert(`âŒ ÙØ´Ù„ Ø§Ù„ØªÙˆØ«ÙŠÙ‚! Ø£Ù†Øª Ø¨Ø¹ÙŠØ¯ Ø¬Ø¯Ø§Ù‹.\nØ§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${distance.toFixed(1)} Ù…ØªØ±.\nØ§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡: ${dashboardConfig.allowedRadius} Ù…ØªØ±.`);
                }
            }, err => {
                alert("ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ GPS ÙˆØ§Ù„Ø³Ù…Ø§Ø­ Ù„Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø§Ù„ÙˆØµÙˆÙ„.");
            }, { enableHighAccuracy: true });
        }

        // 4. Ù…Ø­Ø±Ùƒ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ
        function calculateDistance(lat1, lon1, lat2, lon2) {
            const R = 6371e3; // Ù†ØµÙ Ù‚Ø·Ø± Ø§Ù„Ø£Ø±Ø¶ Ø¨Ø§Ù„Ù…ØªØ±
            const dLat = (lat2 - lat1) * Math.PI / 180;
            const dLon = (lon2 - lon1) * Math.PI / 180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
                      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
                      Math.sin(dLon/2) * Math.sin(dLon/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
        }
    </script>
</body>
<div style="text-align: center; margin: 20px 0;">
    <a href="dashboard.html" style="display: inline-block; background: #ffcc00; color: #000; padding: 15px 35px; border-radius: 50px; font-weight: 900; text-decoration: none; box-shadow: 0 4px 15px rgba(255, 204, 0, 0.3);">
        ğŸš€ Ø¯Ø®ÙˆÙ„ Ø¨ÙˆØ§Ø¨Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆÙƒØ§Ù„Ø§Øª ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚
    </a>
</div>

</html>
